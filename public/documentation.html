<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>imgscatter</title>
    <link rel="stylesheet" href="./styles.css" />
    <link
      rel="icon"
      type="image/x-icon"
      href="https://upload.wikimedia.org/wikipedia/commons/9/9f/Alien-smiley.svg"
    />
  </head>
  <body>
    <div class="linkbar">
      <a href="/">[imgscatter] </a>
      <a href="https://github.com/ruidovacio/imgscatter">[github] </a>
    </div>
    <div class="documentation">
      <h1>documentation</h1>
      <h2>base</h2>
      <p>
        API calls should be made as <b>POST</b> requests to this entry point:
      </p>
      <p>
        <span style="border: 1px solid #ccc; padding: 5px"
          >https://imgscatter.vercel.app/scatter</span
        >
      </p>
      <!-- <div class="showcode">
        <pre>
        <code>
        </code>
      </pre>
      </div> -->
      <h2>images</h2>
      <p>
        Both URLs and manually uploaded images are accepted. The desired image
        should be appended to a new FormData, which is then passed as the body
        of the request. Please note that the image should be less than 1mb.
      </p>
      <h2>parameters</h2>
      <p>
        You can include any of these as either an URL query, or an Object which
        is appended to FormData.
      </p>
      <table>
        <thead>
          <tr>
            <th>query</th>
            <th>value</th>
            <th>effect</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>grid</td>
            <td>integer</td>
            <td>amount of slices to divide the image into</td>
          </tr>
          <tr>
            <td rowspan="5">style</td>
            <td>scatter</td>
            <td>
              basic effect, slices the image n times and randomizes the result
              in a grid.
            </td>
          </tr>
          <tr>
            <td>begotten</td>
            <td>like the cult classic 1990 horror film</td>
          </tr>
          <tr>
            <td>ripples</td>
            <td>lorem ipsum</td>
          </tr>
          <tr>
            <td>ultrawave</td>
            <td>lorem ipsum</td>
          </tr>
          <tr>
            <td>ride</td>
            <td>lorem ipsum</td>
          </tr>
          <tr>
            <td>repeat</td>
            <td>boolean</td>
            <td>
              decide if the slices will be repeated during the compositing
              process
            </td>
          </tr>
        </tbody>
      </table>
      <p>
        Parameters not included on the API call will be defaulted to a 2x2 grid
        with the scatter style and no repetition.
      </p>
      <h3>Example using URL query</h3>
      <span style="border: 1px solid #ccc; padding: 5px"
        ><code
          >https://imgscatter.vercel.app/scatter?grid=2&style=ride&repeat=false</code
        ></span
      >
      <h3>Example using an object in JS</h3>
      <span style="border: 1px solid #ccc; padding: 5px"
        ><code
          >const query = {grid: 6, style: ultrawave, repeat: true}</code
        ></span
      >
      <p>
        If you are using this method, remember to JSON.stringify() when you
        append it to the FormData.
      </p>
      <h2>examples</h2>
      <div class="showcode">
        <pre><code>async function getImage() {
  const sendForm = new FormData();
  sendForm.append("image", "https://exampleimage.com");
  const query = {grid: 5, style: "ride", repeat:false};
  sendForm.append("query", JSON.stringify(query));

  const response = await fetch("https://imgscatter.vercel.app/scatter",
    {
      method: "POST",
      body: sendForm
    }
  );

  //Then you can do as you wish with the response, for example
  const data = await response.text();
  //and then set this as the source of an image in your DOM
  //to display the glitched image.
}</code></pre>
      </div>
    </div>
  </body>
</html>
